

<div id="fadeinModal" class="modal animated fadeInDown" tabindex="-1" role="dialog"
aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-xl modal-dialog-centered" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title modaltitle" id="myExtraLargeModalLabel">Confirm Shipment Receipt</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
                    height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="feather feather-x">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <div class="col-lg-12">
                <div class="main-box no-header clearfix">
                    <div class="main-box-body clearfix">
                        
                                <h6 class="mb-4" style="text-align: center;"><b>Sender Name : </b> <span class="ml-2">{{popupData?.senderName}} </span>
                                </h6>
                       
                            <div class="form-row my-2">
                                
                                <div class="col-md-3">
                                    <h6 class="ml-2"><b>Shipment ID : </b> <span class="ml-2"> {{popupData?.shipmentId}} </span></h6>
                                </div>
                                <div class="col-md-3" *ngIf="popupData?.shipmentFrom === 'ANM - CHC' ? true : false">
                                    <h6 class="ml-2"><b>RI Point : </b> <span class="ml-2">
                                        {{popupData?.riPoint}} </span></h6>
                                </div>
                                <div class="col-md-3" *ngIf="popupData?.shipmentFrom === 'CHC - CHC' ? true : false">
                                    <h6 class="ml-2"><b>Collection CHC : </b> <span class="ml-2">
                                        {{popupData?.collectionCHC}} </span></h6>
                                </div>
                                <div class="col-md-3" *ngIf="popupData?.shipmentFrom === 'ANM - CHC' ? true : false">
                                    
                                        
                                    <h6 class="ml-2"><b>ILR Point : </b> <span class="ml-2">
                                        {{popupData?.ilrPoint}} </span></h6>
                                </div>
                            </div>
                            <div class="form-row my-2">
                                <div class="col-md-2" [formGroup]="form">
                                    <h6 class="ml-2"><b>Received Date</b>
                                        <ng2-flatpickr id="scFromDate" name="receivedDate" formControlName="receivedDate" class="form-control flatpickr flatpickr-input active" #startPicker [config]="startOptions" placeholder="Select Date.." [(ngModel)]="receivedDate"></ng2-flatpickr></h6>
                                </div>
                                <!-- <div class="col-md-3">
                                    <h6><b>Received Date</b> :<input id="popupDate"
                                            class="form-control flatpickr flatpickr-input active"
                                            type="text" placeholder="dd/mm/yyyy"></h6>
                                </div> -->
                                <div class="col-md-3" [formGroup]="form">
                                    <h6 class="ml-2" [ngClass]="{'label-border-class': formCheck && form.controls.processingDate.invalid }"><b>Processing Date & Time</b>
                                        <ng2-flatpickr id="scFromDate" name="processingDate" formControlName="processingDate"  class="form-control flatpickr flatpickr-input active" #startPicker [config]="startOptions1" placeholder="Select Date.." [(ngModel)]="processingDate" (change)="processingDateChange();" [ngClass]="{'red-border-class': formCheck && form.controls.processingDate.invalid }"></ng2-flatpickr>
                                        </h6>
                                </div>
                                <div class="col-md-2" [formGroup]="ILRform" *ngIf="popupData?.shipmentFrom === 'ANM - CHC' ? true : false">
                                    <h6 class="ml-2"><b>ILR In Date & Time</b>
                                        <ng2-flatpickr id="scFromDate" name="ilrInDateTime" formControlName="ilrInDateTime" class="form-control flatpickr flatpickr-input active" #startPicker [config]="startOptions1" placeholder="Select Date.." [(ngModel)]="ILRInDate"></ng2-flatpickr>
                                        </h6>
                                </div>
                                <div class="col-md-2" [formGroup]="ILRform" *ngIf="popupData?.shipmentFrom === 'ANM - CHC' ? true : false">
                                    <h6 class="ml-2"><b>ILR Out Date & Time</b>
                                        <ng2-flatpickr id="scFromDate" name="ilrOutDateTime" formControlName="ilrOutDateTime" class="form-control flatpickr flatpickr-input active" #startPicker [config]="startOptions1" placeholder="Select Date.." [(ngModel)]="ILROutDate"></ng2-flatpickr>
                                       </h6>
                                </div>
                            </div>
                       
                    </div>
                <div class="table-responsive mt-3" style="overflow-x: hidden;">
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th><span>S.No</span></th>
                                <th><span>Subject Name</span></th>
                                <th><span>Subject ID</span></th>
                                <th><span>RCH ID</span></th>
                                <th><span>Barcode</span></th>
                                <th class="datetimenewchc wordwrap"><span>Sample Collection <br> Date &
                                        Time</span></th>
                                <!-- <th class="text-center"><span>ILR In Time</span></th>
                                <th class="text-center"><span>ILR Out Time</span></th> -->
                               <th><span>Sample Timeout</span></th>
                                <th><span>Sample Damaged</span></th>
                                 <th><span>Barcode Damaged</span>
                                </th>
                                
                                <th><span>Accept</span></th>
                                <th><span>Reject</span></th>
                            </tr>

                        </thead>
                        <tbody>
                            <tr *ngFor="let receipt of popupData?.receiptDetail;index as i">
                                <td class="sno">{{i+1}}</td>
                                <td class="sname text-left">{{receipt.subjectName}}</td>
                                <td>{{receipt.subjectId}}</td>
                                <td class="">{{receipt.rchId}}</td>
                                <td>{{receipt.barcodeNo}}</td>
                                <td>{{receipt.sampleCollectionDateTime}}</td>
                                <!-- <td class="text-center"></td>
                                <td class="text-center"></td> -->
                                <td class="n-chk text-center"><label
                                        class="new-control new-checkbox checkbox-outline-primary">
                                        <input type="checkbox"
                                            class="new-control-input" disabled [checked]="receipt.sampleTimeout">
                                        <span
                                            class="new-control-indicator"></span>&nbsp;
                                    </label></td>
                                <td class="n-chk text-center"><label
                                        class="new-control new-checkbox checkbox-outline-primary">
                                        <input type="checkbox"
                                            class="new-control-input" [checked]="receipt.sampleDamaged" (change)="sampleDamageChange(i)">
                                        <span
                                            class="new-control-indicator"></span>&nbsp;
                                    </label></td>
                                <td class="n-chk text-center"><label
                                        class="new-control new-checkbox checkbox-outline-primary">
                                        <input type="checkbox"
                                            class="new-control-input" [checked]="receipt.barcodeDamaged" (change)="barcodeDamageChange(i)">
                                        <span
                                            class="new-control-indicator"></span>&nbsp;
                                    </label></td>
                                <td class="n-chk text-center">
                                    <label
                                        class="new-control new-radio radio-primary">
                                        <input type="radio" class="new-control-input"
                                            name="colorRadio-{{i}}-1" value="Cplus" [checked]="receipt.accept" disabled>
                                        <span
                                            class="new-control-indicator"></span>&nbsp;
                                    </label>
                                </td>
                                <td class="n-chk text-center">
                                    <label
                                        class="new-control new-radio radio-primary">
                                        <input type="radio" class="new-control-input"
                                            name="colorRadio-{{i}}-2" value="Cplus" [checked]="receipt.reject" disabled>
                                        <span
                                            class="new-control-indicator"></span>&nbsp;
                                    </label>
                                </td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
                    <div class="row float-right">
                        
                        <input type="Submit" class="btn btn-success float-right"
            value="Submit" id="linktobuttonconfirmdlvry" (click)="sampleSubmit();">
            <button class="btn float-right" data-dismiss="modal"><i class="flaticon-cancel-12"></i>
                Close</button>
                    </div>
                    
   
                    <!--  <input type="Submit" class="btn btn-success" value="Affix new barcode" id="btnShowHide">  -->
                    <!-- <input type="Submit" class="btn btn-success" value="Recall status"> -->
                </div>
            </div>
        </div>
    </div>
    <!-- <div class="modal-footer">
        <input type="Submit" class="btn btn-success float-right"
            value="Confirm Shipment Receipt" id="linktobuttonconfirmdlvry">
        <button class="btn" data-dismiss="modal"><i class="flaticon-cancel-12"></i>
            Close</button>
    </div> -->
</div>

</div>

<table id="anmshipment-tblconfig1" class="table table-bordered table-hover" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
    <thead>
        <tr>
            <th>{{'SNo' | translate }}</th>
            <th>{{'ShipmentID' | translate }}</th>
            <th>{{'SenderName' | translate }}</th>
            <th>{{'SendingLocation' | translate }}</th>
            <th>{{'ShipmentDateAndTime' | translate }}</th>
            <th>{{'Lookup' | translate }}</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let person of chcReceiptsData;index as i">
            <td>{{ i + 1}}</td>
            <td>{{ person.shipmentId }}</td>
            <td>{{ person.senderName }}</td>
            <td>{{ person.sendingLocation }}</td>
            <td>{{ person.shipmentDateTime }}</td>
            <td class="user-plus" (click)="openPopup(person);"><i class="fas fa-search fa-2x" aria-hidden="true" style="font-size: 18px;"></i></td>
        </tr>
    </tbody>
</table>